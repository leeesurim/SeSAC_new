<html>
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <title>
            회원가입
        </title>
        <style>
            form{
                font-family: 'Courier New', Courier, monospace;
            }
            h2{
                text-align: center;
            }
        </style>
        <script>
            function userRegister(){
                var form = document.getElementById('form_register');
                
                axios({
                    method: 'post',
                    url: 'http://localhost:8000/user/register',
                    data: {
                        id: form.id.value,
                        pw: form.pw.value,
                        name: form.name.value
                    }
                }).then((rep) => {return rep.data})
                .then((data) => {
                    alert(data);
                    form.reset();
                })
                

            }

        </script>

    </head>
    <body>
        <!-- 라우터 경로와 동일하게 작성. app.use 경로 + routes 경로 -->
        <form action="/user/register" method="POST" id="form_register">
            <br>
            <h2>회원가입</h2>

                <div class="form-floating mb-3 d-grid gap-2 col-3 mx-auto">
                    <input type="text" class="form-control" id="id" name="id" placeholder="아이디" required>
                    <label for="id">아이디</label>
                </div>

                <div class="form-floating mb-3 d-grid gap-2 col-3 mx-auto">
                    <input type="password" class="form-control" id="pw" name="pw" placeholder="비밀번호" required>
                    <label for="pw" class="floatingInput">비밀번호</label>
                </div>

                <div class="form-floating mb-3 d-grid gap-2 col-3 mx-auto">
                    <input type="text" class="form-control" id="name" name="name" placeholder="이름" required>
                    <label for="name">이름</label>
                </div>

            
                <div class="mb-3 d-grid gap-2 col-3 mx-auto">
                    <button type="button" onclick="userRegister();" class="btn btn-outline-primary">회원가입</button>
                </div> 
            
                <div class="mb-3 d-grid gap-2 col-3 mx-auto">
                    <button type="button" onclick="location.href='http://localhost:8000/user/login'" class="btn btn-outline-warning">로그인 하러 가기</button>
                </div>
        </form>
    </body>
</html>